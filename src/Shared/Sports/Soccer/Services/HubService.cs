// <auto-generated> Can not be tested
// </auto-generated>
namespace LiveScore.Soccer.Services
{
    using LiveScore.Core.Services;
    using Microsoft.AspNetCore.SignalR.Client;

    public class HubService : IHubService
    {       
        private readonly IHubConnectionBuilder hubConnectionBuilder;
        private readonly ISettingsService settingsService;
        private HubConnection matchHubConnection;
        private HubConnection teamHubConnection;
        private HubConnection oddsHubConnection;

        public HubService(IHubConnectionBuilder hubConnectionBuilder, ISettingsService settingsService)
        {
            this.hubConnectionBuilder = hubConnectionBuilder;
            this.settingsService = settingsService;
        }

        public HubConnection BuildMatchEventHubConnection() 
            => matchHubConnection ??
                (matchHubConnection = new HubConnectionBuilder().WithUrl($"{settingsService.HubEndpoint}/Soccer/MatchEventHub").Build());

        public HubConnection BuildTeamStatisticHubConnection()
            => teamHubConnection ??
                (teamHubConnection = new HubConnectionBuilder().WithUrl($"{settingsService.HubEndpoint}/Soccer/TeamStatisticHub").Build());

        public HubConnection BuildOddsEventHubConnection() 
            => oddsHubConnection ??
                (oddsHubConnection = hubConnectionBuilder.WithUrl($"{settingsService.HubEndpoint}/Soccer/OddsEventHub").Build());
    }
}